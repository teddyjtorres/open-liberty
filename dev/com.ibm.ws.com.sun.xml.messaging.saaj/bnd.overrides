-include= ~../cnf/resources/bnd/rejar.props
bVersion=1.0

Bundle-SymbolicName: com.ibm.ws.com.sun.xml.messaging.saaj

saajVersion=1.5.3

instrument.disabled: true

Include-Resource: \
     @${repo;com.sun.xml.messaging.saaj:saaj-impl;${saajVersion};EXACT}!/META-INF/services/javax.xml.soap.SOAPFactory, \
     @${repo;com.sun.xml.messaging.saaj:saaj-impl;${saajVersion};EXACT}!/META-INF/services/javax.xml.soap.SOAPConnectionFactory, \
     @${repo;com.sun.xml.messaging.saaj:saaj-impl;${saajVersion};EXACT}!/META-INF/services/javax.xml.soap.MetaFactory, \
     @${repo;com.sun.xml.messaging.saaj:saaj-impl;${saajVersion};EXACT}!/META-INF/services/javax.xml.soap.MessageFactory, \
     @${repo;com.sun.xml.messaging.saaj:saaj-impl;${saajVersion};EXACT}!/META-INF/services/javax.xml.soap.SAAJMetaFactory

Export-Package: \
  com.sun.xml.messaging.saaj;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.util;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.util.transform;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.util.stax;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.soap;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.soap.ver1_2;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.soap.ver1_1;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.soap.name;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.soap.impl;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.soap.dynamic;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.packaging.mime;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.packaging.mime.util;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.packaging.mime.internet;version="${saajVersion}";thread-context=true,\
  com.sun.xml.messaging.saaj.client.p2p;version="${saajVersion}";thread-context=true
  
app-resources= \
  META-INF/services/javax.xml.soap.SOAPFactory | \
  META-INF/services/javax.xml.soap.SOAPConnectionFactory | \
  META-INF/services/javax.xml.soap.MetaFactory | \
  META-INF/services/javax.xml.soap.MessageFactory | \
  META-INF/services/javax.xml.soap.SAAJMetaFactory

# Using version=! in order to not have a version attached to the import for packages that were removed
# from Java after Java 8.  Doing this keeps the import like before Java 11 support. It will get the
# packages from Java when using Java 8 or earlier and from the new shipped bundles for Java 9 and later.
Import-Package: \
  !com.sun.xml.fastinfoset.dom, \
  !javax.xml.messaging, \
  !org.jvnet.fastinfoset, \
  javax.xml.soap;version=!, \
  *

Service-Component: \
  com.ibm.ws.com.sun.xml.messaging.saaj.ResourceProvider; \
    implementation:=com.ibm.wsspi.classloading.ResourceProvider; \
    provide:=com.ibm.wsspi.classloading.ResourceProvider; \
    configuration-policy:=ignore; \
    properties:="resources=${app-resources}"